L.Control.Sidebar=L.Control.extend({includes:L.Mixin.Events,options:{position:"left"},initialize:function(a,b){var c,d;L.setOptions(this,b);this._sidebar=L.DomUtil.get(a);L.DomUtil.addClass(this._sidebar,"sidebar-"+this.options.position);L.Browser.touch&&L.DomUtil.addClass(this._sidebar,"leaflet-touch");for(c=this._sidebar.children.length-1;0<=c;c--)d=this._sidebar.children[c],"DIV"==d.tagName&&L.DomUtil.hasClass(d,"sidebar-content")&&(this._container=d);this._tabitems=this._sidebar.querySelectorAll("ul.sidebar-tabs > li, .sidebar-tabs > ul > li");
for(c=this._tabitems.length-1;0<=c;c--)this._tabitems[c]._sidebar=this;this._panes=[];this._closeButtons=[];for(c=this._container.children.length-1;0<=c;c--)if(d=this._container.children[c],"DIV"==d.tagName&&L.DomUtil.hasClass(d,"sidebar-pane")){this._panes.push(d);d=d.querySelectorAll(".sidebar-close");for(var e=0,f=d.length;e<f;e++)this._closeButtons.push(d[e])}},addTo:function(a){var b;this._map=a;for(a=this._tabitems.length-1;0<=a;a--)b=this._tabitems[a],L.DomEvent.on(b.querySelector("a"),"click",
L.DomEvent.preventDefault).on(b.querySelector("a"),"click",this._onClick,b);for(a=this._closeButtons.length-1;0<=a;a--)b=this._closeButtons[a],L.DomEvent.on(b,"click",this._onCloseClick,this);return this},removeFrom:function(a){var b;this._map=null;for(a=this._tabitems.length-1;0<=a;a--)b=this._tabitems[a],L.DomEvent.off(b.querySelector("a"),"click",this._onClick);for(a=this._closeButtons.length-1;0<=a;a--)b=this._closeButtons[a],L.DomEvent.off(b,"click",this._onCloseClick,this);return this},open:function(a){var b,
c;for(b=this._panes.length-1;0<=b;b--)c=this._panes[b],c.id==a?L.DomUtil.addClass(c,"active"):L.DomUtil.hasClass(c,"active")&&L.DomUtil.removeClass(c,"active");for(b=this._tabitems.length-1;0<=b;b--)c=this._tabitems[b],c.querySelector("a").hash=="#"+a?L.DomUtil.addClass(c,"active"):L.DomUtil.hasClass(c,"active")&&L.DomUtil.removeClass(c,"active");this.fire("content",{id:a});L.DomUtil.hasClass(this._sidebar,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._sidebar,"collapsed"));return this},
close:function(){for(var a=this._tabitems.length-1;0<=a;a--){var b=this._tabitems[a];L.DomUtil.hasClass(b,"active")&&L.DomUtil.removeClass(b,"active")}L.DomUtil.hasClass(this._sidebar,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._sidebar,"collapsed"));return this},_onClick:function(){L.DomUtil.hasClass(this,"active")?this._sidebar.close():L.DomUtil.hasClass(this,"disabled")||this._sidebar.open(this.querySelector("a").hash.slice(1))},_onCloseClick:function(){this.close()}});
L.control.sidebar=function(a,b){return new L.Control.Sidebar(a,b)};
